$C = "../Common.ui";

Group #ChallengeEntry {
  Anchor: (Left: 0, Right: 0, Bottom: 8, Height: 130);
  LayoutMode: Left;
  Background: #0f1820;
  OutlineColor: #ffffff(0.04);
  OutlineSize: 1;

  // Left accent bar (pre-defined colors, toggled via visibility)
  Group #AccentBar {
    Anchor: (Width: 6, Top: 0, Bottom: 0);

    Group #AccentRed {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #ef4444;
      Visible: true;
    }

    Group #AccentBlue {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #3b82f6;
      Visible: false;
    }

    Group #AccentGreen {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #10b981;
      Visible: false;
    }

    Group #AccentOrange {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #f59e0b;
      Visible: false;
    }
  }

  // Main info area
  Group #InfoArea {
    Anchor: (Top: 0, Bottom: 0);
    FlexWeight: 1;
    LayoutMode: Top;
    Padding: (Left: 16, Top: 14, Right: 10, Bottom: 14);

    // Challenge name
    Label #ChallengeName {
      Anchor: (Left: 0, Right: 0, Height: 22);
      Style: (FontSize: 17, TextColor: #f0f4f8, RenderBold: true);
      Text: "Ascension Sprint";
    }

    // Description
    Label #ChallengeDesc {
      Anchor: (Left: 0, Right: 0, Height: 20, Top: 4);
      Style: (FontSize: 14, TextColor: #9fb0ba);
      Text: "Complete an Ascension without Evolution Power";
    }

    // Malus info
    Label #MalusLabel {
      Anchor: (Left: 0, Right: 0, Height: 20, Top: 6);
      Style: (FontSize: 13, TextColor: #ef4444, RenderBold: true);
      Text: "Malus: Evolution Power locked to base 3.0";
    }

    // Status line (best time / completions)
    Label #StatusLabel {
      Anchor: (Left: 0, Right: 0, Height: 20, Top: 4);
      Style: (FontSize: 13, TextColor: #8b9cb3);
      Text: "Not attempted";
    }
  }

  // Right button area
  Group #ButtonArea {
    Anchor: (Width: 120, Top: 0, Bottom: 0);
    LayoutMode: Top;
    Padding: (Top: 38, Right: 14, Left: 6);

    Group {
      Anchor: (Left: 0, Right: 0, Height: 42);

      TextButton #StartButton {
        Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
        Text: "Start";
        Style: TextButtonStyle(
          Default: (
            Background: #166534(0.85),
            LabelStyle: (FontSize: 16, TextColor: #bbf7d0, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)
          ),
          Hovered: (
            Background: #15803d(0.92),
            LabelStyle: (FontSize: 16, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)
          ),
          Pressed: (
            Background: #166534(0.95),
            LabelStyle: (FontSize: 16, TextColor: #bbf7d0, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)
          ),
          Sounds: $C.@ButtonSounds,
        );
      }
    }

    // "In Progress" indicator (hidden by default, shown when this challenge is active)
    Label #InProgressLabel {
      Anchor: (Left: 0, Right: 0, Height: 42, Top: 0);
      Style: (FontSize: 14, TextColor: #fbbf24, RenderBold: true, Alignment: Center, VerticalAlignment: Center);
      Text: "In Progress";
      Visible: false;
    }
  }
}
