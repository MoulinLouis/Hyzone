$C = "../Common.ui";

Group #ChallengeEntry {
  Anchor: (Left: 0, Right: 0, Bottom: 8, Height: 136);
  LayoutMode: Left;
  Background: #0f1820;
  OutlineColor: #ffffff(0.04);
  OutlineSize: 1;

  // Left accent bar (pre-defined colors, toggled via visibility)
  Group #AccentBar {
    Anchor: (Width: 6, Top: 0, Bottom: 0);

    Group #AccentRed {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #ef4444;
      Visible: true;
    }

    Group #AccentBlue {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #3b82f6;
      Visible: false;
    }

    Group #AccentGreen {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #10b981;
      Visible: false;
    }

    Group #AccentOrange {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #f59e0b;
      Visible: false;
    }

    Group #AccentViolet {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #8b5cf6;
      Visible: false;
    }

    Group #AccentPink {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #ec4899;
      Visible: false;
    }

    Group #AccentCyan {
      Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
      Background: #06b6d4;
      Visible: false;
    }
  }

  // Main info area
  Group #InfoArea {
    Anchor: (Top: 0, Bottom: 0);
    FlexWeight: 1;
    LayoutMode: Top;
    Padding: (Left: 16, Top: 14, Right: 10, Bottom: 14);

    // Challenge name
    Label #ChallengeName {
      Anchor: (Left: 0, Right: 0, Height: 22);
      Style: (FontSize: 17, TextColor: #f0f4f8, RenderBold: true);
      Text: "Ascension Sprint";
    }

    // Malus info
    Label #MalusLabel {
      Anchor: (Left: 0, Right: 0, Height: 38, Top: 6);
      Style: (FontSize: 13, TextColor: #ef4444, RenderBold: true, Wrap: true);
      Text: "Malus: Evolution Power locked to base 3.0";
    }

    // Reward info
    Label #RewardLabel {
      Anchor: (Left: 0, Right: 0, Height: 18, Top: 4);
      Style: (FontSize: 13, TextColor: #fbbf24);
      Text: "Reward: ...";
    }

    // Reward status + completions
    Group #StatusRow {
      Anchor: (Left: 0, Right: 0, Height: 18, Top: 2);
      LayoutMode: Left;

      Label #RewardStatus {
        Anchor: (Width: 140, Top: 0, Bottom: 0);
        Style: (FontSize: 12, TextColor: #9fb0ba);
        Text: "Reward: Not yet earned";
      }

      Label #StatusLabel {
        Anchor: (Top: 0, Bottom: 0);
        FlexWeight: 1;
        Style: (FontSize: 12, TextColor: #8b9cb3);
        Text: "Not attempted";
      }
    }
  }

  // Right button area (all 3 states overlap at same centered position)
  Group #ButtonArea {
    Anchor: (Width: 120, Top: 0, Bottom: 0);
    Padding: (Right: 14, Left: 6);

    Group #StartButtonWrap {
      Anchor: (Left: 0, Right: 0, Height: 42, Top: 47);

      TextButton #StartButton {
        Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
        Text: "Start";
        Style: TextButtonStyle(
          Default: (
            Background: #166534(0.85),
            LabelStyle: (FontSize: 16, TextColor: #bbf7d0, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)
          ),
          Hovered: (
            Background: #15803d(0.92),
            LabelStyle: (FontSize: 16, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)
          ),
          Pressed: (
            Background: #166534(0.95),
            LabelStyle: (FontSize: 16, TextColor: #bbf7d0, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)
          ),
          Sounds: $C.@ButtonSounds,
        );
      }
    }

    // "In Progress" indicator (hidden by default, shown when this challenge is active)
    Label #InProgressLabel {
      Anchor: (Left: 0, Right: 0, Height: 42, Top: 47);
      Style: (FontSize: 14, TextColor: #fbbf24, RenderBold: true, Alignment: Center, VerticalAlignment: Center);
      Text: "In Progress";
      Visible: false;
    }

    // "Locked" indicator (hidden by default, shown when previous challenge not completed)
    Label #LockedLabel {
      Anchor: (Left: 0, Right: 0, Height: 42, Top: 47);
      Style: (FontSize: 14, TextColor: #64748b, RenderBold: true, Alignment: Center, VerticalAlignment: Center);
      Text: "Locked";
      Visible: false;
    }
  }
}
