$C = "../Common.ui";

$C.@PageOverlay {
  SceneBlur {}

  Group #WeaponSelectWindow {
    Anchor: (Width: 720, Height: 640);
    LayoutMode: Top;
    Background: #07101b(0.97);
    OutlineColor: #ffffff(0.08);
    OutlineSize: 2;

    // === HEADER ===
    Group #Header {
      Anchor: (Left: 0, Right: 0, Height: 68);
      LayoutMode: Full;
      Background: #0f1f33;

      Group {
        Anchor: (Left: 0, Right: 0, Top: 0, Height: 4);
        Background: #ffd44d;
      }

      Label #Title {
        Anchor: (Left: 24, Top: 20, Width: 360, Height: 32);
        Style: (FontSize: 24, TextColor: #f4f9ff, RenderBold: true);
        Text: "Weapon Upgrade";
      }

      TextButton #BackButton {
        Anchor: (Right: 14, Top: 12, Width: 42, Height: 42);
        Text: "X";
        Style: TextButtonStyle(
          Default: (Background: #7a1f28, LabelStyle: (FontSize: 20, TextColor: #ffe8ea, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
          Hovered: (Background: #b32f3b, LabelStyle: (FontSize: 20, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
          Pressed: (Background: #5d1820, LabelStyle: (FontSize: 20, TextColor: #ffd8dc, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
          Sounds: $C.@ButtonSounds,
        );
      }
    }

    // === WEAPON LIST ===
    Group #Content {
      Anchor: (Left: 0, Right: 0);
      FlexWeight: 1;
      LayoutMode: Top;
      Padding: (Left: 18, Right: 18, Top: 14, Bottom: 14);

      Label #Subtitle {
        Style: (FontSize: 18, TextColor: #d5e6ff, RenderBold: true);
        Text: "";
      }

      Group #WeaponList {
        Anchor: (Left: 0, Right: 0, Top: 12);
        FlexWeight: 1;
        LayoutMode: LeftCenterWrap;
      }

      // Sectioned layout for LOADOUT mode (hidden by default)
      Group #SectionedList {
        Anchor: (Left: 0, Right: 0);
        FlexWeight: 1;
        LayoutMode: TopScrolling;
        ScrollbarStyle: $C.@DefaultScrollbarStyle;
        Visible: false;

        Label #OwnedHeader {
          Anchor: (Left: 0, Right: 0, Height: 22);
          Style: (FontSize: 18, TextColor: #4ade80, RenderBold: true);
          Text: "Owned";
        }

        Group #OwnedSep {
          Anchor: (Left: 0, Right: 0, Top: 0, Height: 2);
          Background: #4ade80(0.3);
        }

        Group #OwnedList {
          Anchor: (Left: 0, Right: 0, Top: 8);
          LayoutMode: LeftCenterWrap;
        }

        Label #UnownedHeader {
          Anchor: (Left: 0, Right: 0, Top: 14, Height: 22);
          Style: (FontSize: 18, TextColor: #8b9bb0, RenderBold: true);
          Text: "Unowned";
        }

        Group #UnownedSep {
          Anchor: (Left: 0, Right: 0, Top: 0, Height: 2);
          Background: #8b9bb0(0.3);
        }

        Group #UnownedList {
          Anchor: (Left: 0, Right: 0, Top: 6);
          LayoutMode: LeftCenterWrap;
        }
      }
    }

    // === DETAIL PANEL (hidden until weapon selected) ===
    Group #DetailPanel {
      Anchor: (Left: 0, Right: 0, Height: 118);
      LayoutMode: Full;
      Background: #0f1f33;
      Visible: false;

      Group {
        Anchor: (Left: 0, Right: 0, Top: 0, Height: 2);
        Background: #ffffff(0.14);
      }

      Group #DetailIcon {
        Anchor: (Left: 20, Top: 8, Width: 100, Height: 100);
        LayoutMode: Full;
        OutlineColor: #ffffff(0.22);
        OutlineSize: 2;
        Group #DIconAK47 { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/AK47_icon.png"); }
        Group #DIconBarret50 { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/Barret50_icon.png"); Visible: false; }
        Group #DIconColtRevolver { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/ColtRevolver_icon.png"); Visible: false; }
        Group #DIconDesertEagle { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/DesertEagle_icon.png"); Visible: false; }
        Group #DIconDoubleBarrel { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/DoubleBarrel_icon.png"); Visible: false; }
        Group #DIconFlamethrower { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/Flamethrower_icon.png"); Visible: false; }
        Group #DIconGlock18 { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/Glock18_icon.png"); Visible: false; }
        Group #DIconM4A1s { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/M4A1s_icon.png"); Visible: false; }
        Group #DIconMP9 { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/MP9_icon.png"); Visible: false; }
        Group #DIconMac10 { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/Mac10_icon.png"); Visible: false; }
        Group #DIconThompson { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/Thompson_icon.png"); Visible: false; }
      }

      TextButton #DetailCloseButton {
        Anchor: (Right: 14, Top: 10, Width: 30, Height: 30);
        Text: "X";
        Style: TextButtonStyle(
          Default: (Background: #2b3f5d, LabelStyle: (FontSize: 15, RenderBold: true, TextColor: #d5e6ff, HorizontalAlignment: Center, VerticalAlignment: Center)),
          Hovered: (Background: #476995, LabelStyle: (FontSize: 15, RenderBold: true, TextColor: #ffffff, HorizontalAlignment: Center, VerticalAlignment: Center)),
          Pressed: (Background: #213149, LabelStyle: (FontSize: 15, RenderBold: true, TextColor: #d5e6ff, HorizontalAlignment: Center, VerticalAlignment: Center)),
          Sounds: $C.@ButtonSounds,
        );
      }

      Group #DetailInfo {
        Anchor: (Left: 132, Top: 14, Width: 174, Height: 96);
        LayoutMode: Top;

        Label #DetailName {
          Style: (FontSize: 21, RenderBold: true, TextColor: #f4f9ff);
          Text: "";
        }

        Group #DetailStars {
          Anchor: (Top: 6, Height: 24);
          LayoutMode: Left;

          Group {
            Anchor: (Width: 22, Height: 22);
            LayoutMode: Full;
            Group #DS0F { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/star.png"); Visible: false; }
            Group #DS0H { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/half_star.png"); Visible: false; }
            Group #DS0E { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/empty_star.png"); }
          }

          Group {
            Anchor: (Left: 3, Width: 22, Height: 22);
            LayoutMode: Full;
            Group #DS1F { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/star.png"); Visible: false; }
            Group #DS1H { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/half_star.png"); Visible: false; }
            Group #DS1E { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/empty_star.png"); }
          }

          Group {
            Anchor: (Left: 3, Width: 22, Height: 22);
            LayoutMode: Full;
            Group #DS2F { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/star.png"); Visible: false; }
            Group #DS2H { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/half_star.png"); Visible: false; }
            Group #DS2E { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/empty_star.png"); }
          }

          Group {
            Anchor: (Left: 3, Width: 22, Height: 22);
            LayoutMode: Full;
            Group #DS3F { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/star.png"); Visible: false; }
            Group #DS3H { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/half_star.png"); Visible: false; }
            Group #DS3E { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/empty_star.png"); }
          }

          Group {
            Anchor: (Left: 3, Width: 22, Height: 22);
            LayoutMode: Full;
            Group #DS4F { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/star.png"); Visible: false; }
            Group #DS4H { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/half_star.png"); Visible: false; }
            Group #DS4E { Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0); Background: (TexturePath: "../Textures/empty_star.png"); }
          }
        }

        Label #DetailDamage {
          Anchor: (Top: 6);
          Style: (FontSize: 16, TextColor: #d5e6ff, RenderBold: true);
          Text: "";
        }
      }

      Group #DetailActions {
        Anchor: (Right: 14, Top: 12, Width: 190, Height: 86);
        LayoutMode: Full;

        Group #DetailUpgradeGroup {
          Anchor: (Right: 0, Top: 34, Width: 168, Height: 44);

          TextButton #UpgradeButton {
            Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);
            Text: "";
            Style: TextButtonStyle(
              Default: (Background: #1b5d2b, LabelStyle: (FontSize: 16, RenderBold: true, TextColor: #e8ffec, HorizontalAlignment: Center, VerticalAlignment: Center)),
              Hovered: (Background: #2d9f49, LabelStyle: (FontSize: 16, RenderBold: true, TextColor: #ffffff, HorizontalAlignment: Center, VerticalAlignment: Center)),
              Pressed: (Background: #164a22, LabelStyle: (FontSize: 16, RenderBold: true, TextColor: #d8ffe0, HorizontalAlignment: Center, VerticalAlignment: Center)),
              Sounds: $C.@ButtonSounds,
            );
          }

          Group #UpgradeCostRow {
            Anchor: (Right: 14, Top: 9, Width: 126, Height: 28);
            LayoutMode: Left;

            Group #UpgradeScrapIcon {
              Anchor: (Width: 24, Height: 24);
              Background: (TexturePath: "../Textures/scrap.png");
            }

            Label #UpgradeCostValue {
              Anchor: (Left: 6, Width: 92, Height: 26);
              Style: (FontSize: 22, RenderBold: true, TextColor: #e8ffec, HorizontalAlignment: Start, VerticalAlignment: Center);
              Text: "";
            }
          }
        }

        Label #DetailStatus {
          Anchor: (Left: 0, Right: 0, Top: 82, Height: 20);
          Style: (FontSize: 14, TextColor: #9eb7d4, HorizontalAlignment: Center, RenderBold: true);
          Text: "";
        }
      }
    }
  }
}
